<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <!-- 1 ***************************************************** -->
    <!-- <style>
        .stanford_bridge {
            width: 70%;
            height: 95vh;
            background-image: url("field.jpg");
            background-repeat: no-repeat;
            background-size: cover;
        }
        .ball {
            width: 100px;
            height: 100px;
        }
    </style>
    <div class="stanford_bridge">
        <img src="ball.png" alt="ball" class="ball">
    </div>
    <script>
        
		let ball = document.querySelector('.ball');
		ball.onload = () => 
		{
			//1 Отследить нажатие
			ball.addEventListener('mousedown', () => {

				//2 Подготовить к переносу 
				let coords = ball.getBoundingClientRect();
				let shiftX = event.pageX - coords.left;
				let shiftY = event.pageY - coords.top;

				console.log(shiftY, shiftY);

				
				ball.style.position = 'absolute';
				document.querySelector('.stanford_bridge').appendChild(ball);
				moveAt(event, shiftX, shiftY);

				//3 Перемещаем по экрану
				document.querySelector('.stanford_bridge').onmousemove = () => 
				{
					moveAt(event, shiftX, shiftY);
				}

				//4 Отслеживаем окончание переноса 
				ball.onmouseup = () => {
					document.querySelector('.stanford_bridge').onmousemove = null;
					ball.onmouseup = null;
				}
			});

			function moveAt(e, shiftX, shiftY) 
			{
				console.log('Установка топ лефт');
				console.log(shiftX);
				ball.style.left = e.pageX - shiftX + 'px';
				ball.style.top = e.pageY - shiftY + 'px';
			}

			ball.ondragstart = () => {return false}
		}
    </script> -->

    <!-- 2 ********************************************************************* -->

    <!-- <style>
        .slider {
            width: 20%;
            height: 20px;
            background-color: #888888;
            position: relative;
            border-radius: 10px;
        }
        .token {
            position: absolute;
            width: 10px;
            height: 30px;
            background-color: rgb(67, 18, 145);
            top: -5px;
            border-radius: 2px;
        }
    </style>
    <div class="container">
        <div class="slider">
            <div class="token"></div>
        </div>  
        
    </div>
    <script>
        let token = document.querySelector('.token');
        let coordsSlider = document.querySelector('.slider').getBoundingClientRect();

			//1 Отследить нажатие
			token.addEventListener('mousedown', () => {
				let coords = token.getBoundingClientRect();
				let shiftX = event.pageX - coords.left;
				token.style.position = 'absolute';
				moveAt(event, shiftX);
				document.querySelector('.slider').onmousemove = () => {
					moveAt(event, shiftX);
				}
				token.onmouseup = () => {
					document.querySelector('.slider').onmousemove = null;
					token.onmouseup = null;
				}
			});
			function moveAt(e, shiftX) 
			{
                if(e.pageX > coordsSlider.right) {
                    token.style.left = coordsSlider.right - 50 + 'px';
                } else {
                    console.log('Установка топ лефт');
                    console.log(shiftX);
                    token.style.left = e.pageX - shiftX + 'px';
                    token.style.top = '-5px';
                }
			}
			token.ondragstart = () => {return false};
    </script> -->

    <!-- 3 ********************************************************************** -->
    
    <!-- <style>
        .field {
            background-image: url('field.jpg');
            width: 70%;
            background-repeat: no-repeat;
            height: 90vh;
        }
        img {
            width: 50px;
        }
    </style>
    <div class="field"></div>
    <img src="1.png" alt="hero" class="hero1">
    <img src="2.png" alt="hero" class="hero2">
    <img src="3.png" alt="hero" class="hero3">
    <img src="4.png" alt="hero" class="hero4">
    <img src="5.png" alt="hero" class="hero5">
    <script>
        let hero1 = document.querySelector(".hero1");
        let hero2 = document.querySelector(".hero2");
        let hero3 = document.querySelector(".hero3");
        let hero4 =  document.querySelector(".hero4");
        let hero5 = document.querySelector(".hero5");
        function dragDrop() {
            let coords = this.getBoundingClientRect();
            let shiftX = event.pageX - coords.left;
            let shiftY = event.pageY - coords.top;
            this.style.position = 'absolute';
            document.querySelector(".field").appendChild(this);
            moveAt(event, this, shiftX, shiftY);
            document.querySelector(".field").onmousemove = () => {
                moveAt(event, this, shiftX, shiftY);
            };
            this.onmouseup = () => {
                document.querySelector(".field").onmousemove = null;
                this.onmouseup = null;
            }
        }

        function moveAt(e, element, shiftX, shiftY) {
            element.style.left = e.pageX - shiftX + 'px';
            element.style.top = e.pageY - shiftY + 'px';
        }

        hero1.addEventListener('mousedown',dragDrop);
        hero2.addEventListener('mousedown',dragDrop);
        hero3.addEventListener('mousedown',dragDrop);
        hero4.addEventListener('mousedown',dragDrop);
        hero5.addEventListener('mousedown',dragDrop);
        hero1.ondragstart = () => {return false};
        hero2.ondragstart = () => {return false};
        hero3.ondragstart = () => {return false};
        hero4.ondragstart = () => {return false};
        hero5.ondragstart = () => {return false};
    </script> -->
    
</body>
</html>